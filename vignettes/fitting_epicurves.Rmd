---
title: "Fitting epicurves"
author: "Tim Taylor"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Fitting epicurves}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.align = "center",
  fig.width = 7,
  fig.height = 5
)
```

```{r}
library(outbreaks)
library(incidence2)
library(incidence2plus)
library(tidyr)

# Data -------------------------------------------------------------------------
raw_dat <- ebola_sim_clean$linelist


# Example 1 - no groups --------------------------------------------------------
dat <- incidence(
    raw_dat, 
    date_index = date_of_onset,
    interval = "week"
)

out <- fit_curve(dat[1:20, ], model = "poisson", alpha = 0.05)
out
out %>% unnest(estimates)
out %>% plot()
out %>% growth_rate()
```